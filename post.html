<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form method="post"
        action="https://script.google.com/macros/s/AKfycby-266Z4tlXfDlZcrklP1fDdKgxIo-ZZyS_IC10oTwS/dev">
        <input type="hidden" name="accessToken" value="value1">
        <input type="submit" id="submit" value="submit">
    </form>
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script>liff
            .init({
                liffId: "2004062722-8QeyVePW", // Use own liffId
            })
            .then(() => {
                document.getElementsByName("accessToken")[0].value = liff.getAccessToken();
                document.getElementById("submit").click();
            })
            .catch((err) => {
                //alert("error");
                // Error happens during initialization
                document.querySelector(
                    "body > div > div > ul > li:nth-child(1)"
                ).textContent = "ERROR";

                console.log(err.code, err.message);
                liff.closeWindow();
            });

    </script>
</body>

</html>
